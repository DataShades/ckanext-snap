{"config":{"lang":["en"],"separator":"[\\s\\-\\.\\_]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":""},{"location":"#ckanext-snap","title":"ckanext-snap","text":"<p>Save and restore state of packages, resources, groups, etc.</p> <p>Read the documentation for a full user guide.</p>"},{"location":"#requirements","title":"Requirements","text":"<p>Compatibility with core CKAN versions:</p> CKAN version Compatible? 2.9 no 2.10 yes 2.11 yes master yes"},{"location":"#quickstart","title":"Quickstart","text":"<p>Install the extension <pre><code>pip install ckanext-snap\n</code></pre></p> <p>Add <code>snap</code> to the list of enabled CKAN plugins.</p> <p>Create snapshot using <code>snap_snapshot_create</code> API action: <pre><code>ckanapi action snap_snapshot_create target_id=&lt;PACKAGE_ID&gt; target_type=package\n</code></pre></p>"},{"location":"#development","title":"Development","text":"<p>Install the <pre><code>git clone https://github.com/DataShades/ckanext-snap.git\ncd ckanext-snap\npip install -e '.[dev]'\n</code></pre></p> <p>Run tests: <pre><code>pytest\n</code></pre></p>"},{"location":"#license","title":"License","text":"<p>AGPL</p>"},{"location":"api/","title":"API","text":""},{"location":"api/#snap.logic.action.snap_snapshot_create","title":"<code>snap_snapshot_create(context, data_dict)</code>","text":"<p>Create snapshot object.</p> PARAMETER DESCRIPTION <code>target_type</code> <p>aliquam erat volutpat</p> <p> TYPE: <code>str</code> </p> <code>target_id</code> <p>nullam tempus</p> <p> TYPE: <code>str</code> </p> <code>data</code> <p>aliquam feugiat tellus ut neque</p> <p> TYPE: <code>dict[str, Any]</code> </p> RETURNS DESCRIPTION <p>details of the new snapshot object</p>"},{"location":"api/#snap.logic.action.snap_snapshot_show","title":"<code>snap_snapshot_show(context, data_dict)</code>","text":"<p>Show snapshot object.</p> PARAMETER DESCRIPTION <code>id</code> <p>nullam tempus</p> <p> TYPE: <code>str</code> </p> RETURNS DESCRIPTION <p>details of the snapshot object</p>"},{"location":"api/#snap.logic.action.snap_snapshot_delete","title":"<code>snap_snapshot_delete(context, data_dict)</code>","text":"<p>Delete snapshot object.</p> PARAMETER DESCRIPTION <code>id</code> <p>nullam tempus</p> <p> TYPE: <code>str</code> </p> RETURNS DESCRIPTION <p>details of the removed snapshot object</p>"},{"location":"api/#snap.logic.action.snap_snapshot_list","title":"<code>snap_snapshot_list(context, data_dict)</code>","text":"<p>List snapshot objects.</p> PARAMETER DESCRIPTION <code>target_type</code> <p>nullam tempus</p> <p> TYPE: <code>str</code> </p> <code>target_id</code> <p>nullam tempus</p> <p> TYPE: <code>str</code> </p> <code>rows</code> <p>nullam tempus</p> <p> TYPE: <code>int</code> </p> <code>start</code> <p>nullam tempus</p> <p> TYPE: <code>int</code> </p> RETURNS DESCRIPTION <code>dict[str, Any]</code> <p>collection of snapshot objects</p>"},{"location":"api/#snap.logic.action.snap_snapshot_restore","title":"<code>snap_snapshot_restore(context, data_dict)</code>","text":"<p>Restore snapshot object.</p> PARAMETER DESCRIPTION <code>id</code> <p>nullam tempus</p> <p> TYPE: <code>str</code> </p> RETURNS DESCRIPTION <p>details of the restored object</p>"},{"location":"changelog/","title":"Changelog","text":"<p>All notable changes to this project will be documented in this file.</p> <p>The format is based on Keep a Changelog and this project adheres to Semantic Versioning.</p>"},{"location":"changelog/#unreleased","title":"Unreleased","text":"<p>Compare with latest</p>"},{"location":"configuration/","title":"Configuration","text":""},{"location":"configuration/#ckanextsnaptracked_actions","title":"<code>ckanext.snap.tracked_actions</code>","text":"<p>Actions that automatically create a snapshot for their result.</p> <p>By default, target type is set to the action name before the last underscore. I.e, <code>package_create</code> produces <code>package</code> type, <code>x_y_z</code> produces <code>x_y</code> type. To override it, append type to the action name using colon as separator. <code>organization_create:group</code> produces <code>group</code> type for snapshot.</p> <p>ID of the target is taken from <code>id</code> property inside the action result. To modify the name of the property, append new name to the action after a second column. <code>user_create::name</code> produces snapshot for <code>user</code> using its <code>name</code> as a target id.</p> <p>Custom target type and ID can be combined: <code>user_create:person:email</code> will create snapshot with <code>person</code> as type and value of <code>email</code> as an ID.</p>"},{"location":"configuration/#ckanextsnaprestorable_types","title":"<code>ckanext.snap.restorable_types</code>","text":"<p>Types of snapshot target than can restore their previous state.</p> <p>By default, target type is combined with <code>_update</code> suffix and the result is used as a name of the action that restores previous state. To use a different action, append it to the type using a colon as a separator. I.e, <code>dataset:package_update</code> to use <code>package_update</code> action whenever the state of <code>dataset</code> target is restored.</p>"},{"location":"installation/","title":"Installation","text":""},{"location":"installation/#requirements","title":"Requirements","text":"<p>Compatibility with core CKAN versions:</p> CKAN version Compatible? 2.9 no 2.10 yes 2.11 yes master yes <p>Note</p> <p>It's recommended to install the extension via pip. If you are using GitHub version of the extension, stick to the vX.Y.Z tags to avoid breaking changes. Check the changelog before upgrading the extension.</p>"},{"location":"installation/#installation_1","title":"Installation","text":"<p>Install the extension</p> <pre><code>pip install ckanext-snap\n</code></pre> <p>Add <code>snap</code> to the <code>ckan.plugins</code> setting in your CKAN config file.</p>"}]}